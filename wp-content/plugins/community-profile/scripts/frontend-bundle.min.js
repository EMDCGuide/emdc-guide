!function(r){var t={};function e(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return r[a].call(n.exports,n,n.exports,e),n.l=!0,n.exports}e.m=r,e.c=t,e.d=function(r,t,a){e.o(r,t)||Object.defineProperty(r,t,{configurable:!1,enumerable:!0,get:a})},e.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(t,"a",t),t},e.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},e.p="/",e(e.s=12)}([,function(r,t){},function(r,t){},,,,,,,,,,function(r,t,e){e(13),e(2),e(1),e(14),r.exports=e(15)},function(r,t){},function(r,t){jQuery(function(r){r(".copr-js-hide").hide(),r(".copr-js-show").show(),r(".copr-answer-textarea").val(""),r('input:radio[name="answer"]:first').attr("checked",!0),r(document).on("click",".copr-delete-answer",function(){var t=r(this).closest("form"),e=t.attr("data-really-message"),a="".concat(t.serialize(),"&is_ajax=true"),n="#copr-single-answer-"+t.find('input[name="answer_id"]').first().val();return confirm(e)&&r.post(t.attr("action"),a).done(function(t){t.success&&r(n).slideUp("slow")}),!1}),r(document).on("click",".copr-edit-link",function(){var t=r(this),e=t.closest(".copr-single-answer"),a=t.attr("data-showing-text"),n=t.attr("data-hiding-text");return e.hasClass("is-editing")?(e.find(".copr-answer-text").first().show(),e.find(".copr-edit-answer").first().hide(),e.removeClass("is-editing"),t.html('<span class="dashicons dashicons-edit"></span>'+n)):(e.find(".copr-answer-text").first().hide(),e.find(".copr-edit-answer").first().show(),e.addClass("is-editing"),t.html('<span class="dashicons dashicons-edit"></span> '+a)),!1}),r(document).on("submit","form.copr-edit-answer",function(){for(var t=r(this),e=t.closest(".copr-single-answer"),a="".concat(t.serialize(),"&is_ajax=true"),n=(t.find('input[name="answer"]').first(),t.serializeArray()),s="",i=0;i<n.length;i++)"answer"===n[i].name&&(s=n[i].value);return r.post(t.attr("action"),a).done(function(r){r.success&&(e.find(".copr-answer-text").first().text(s),e.find(".copr-edit-link").first().click())}),!1});var t=r("#copr-section-filter select");r(".copr-section-wrapper").each(function(){var e=r(this).attr("data-title"),a=r(this).attr("data-tag");t.append('<option value="'+a+'">'+e+"</option>")}),t.on("change",function(){var t=r(this).val();"all"===t?r(".copr-section-wrapper").show():(r(".copr-section-wrapper").hide(),r("#section-"+t).show())}),r("form.copr-my-response").submit(function(){for(var t=r(this),e=t.find('*[name="answer"]').first(),a=t.find(".copr-answer-error").first(),n=t.closest(".copr-my-response-wrapper"),s="".concat(t.serialize(),"&is_ajax=true&template=single-answer"),i=t.find('input[type="submit"]').first(),o=t.serializeArray(),c="",d=0;d<o.length;d++)"answer"===o[d].name&&(c=o[d].value);return""===c?(e.length>0&&e.addClass("copr-errored"),a.length>0&&a.removeClass("copr-hidden"),!1):(i.val(i.attr("data-saving")).prop("disabled","disabled").addClass("copr-disabled"),r.post(t.attr("action"),s).done(function(t){i.val(i.attr("data-save")).prop("disabled","").removeClass("copr-disabled"),n.slideUp("slow",function(){var e=r(t);e.find(".copr-js-hide").hide(),e.find(".copr-js-show").css("display","block"),e.find("a.copr-js-show").css("display","inline-block"),n.replaceWith(e)})}).fail(function(){e.length>0&&e.addClass("copr-errored"),a.length>0&&a.removeClass("copr-hidden")}),!1)})})},function(r,t){jQuery(function(r){r(".copr-questions-wrapper").length>0&&(r(".copr-questions-wrapper").each(function(){var t=r(this),e=t.children(),a=e.not(".copr-hidden").attr("data-number"),n=e.length;t.attr("data-current",a),t.attr("data-total",n),e.first().find(".copr-previous").first().addClass("copr-disabled"),e.last().find(".copr-next").first().addClass("copr-disabled")}),r(".copr-questions-wrapper .copr-next").on("click",function(){var t=r(this);if(t.hasClass("copr-disabled"))return!1;var e=t.closest(".copr-questions-wrapper"),a=parseInt(e.attr("data-current"),10),n=(parseInt(e.attr("data-total"),10),a+1);return e.find('div[data-number="'.concat(a,'"]')).fadeOut("slow",function(){e.find('div[data-number="'.concat(n,'"]')).fadeIn("slow"),e.attr("data-current",n)}),!1}),r(".copr-questions-wrapper .copr-previous").on("click",function(){var t=r(this);if(t.hasClass("copr-disabled"))return!1;var e=t.closest(".copr-questions-wrapper"),a=parseInt(e.attr("data-current"),10),n=(parseInt(e.attr("data-total"),10),a-1);return e.find('div[data-number="'.concat(a,'"]')).fadeOut("slow",function(){e.find('div[data-number="'.concat(n,'"]')).fadeIn("slow"),e.attr("data-current",n)}),!1}),r(".copr-question-field-wrapper form").submit(function(){var t=r(this),e="".concat(t.serialize(),"&is_ajax=true"),a=t.find('input[type="submit"]').first(),n=t.find(".copr-next").first();return a.val(a.attr("data-saving")).prop("disabled","disabled").addClass("copr-disabled"),r.post(t.attr("action"),e).done(function(r){a.val(a.attr("data-save")).prop("disabled","").removeClass("copr-disabled"),r.success?(t.find("input, textarea").removeClass("copr-errored"),t.find(".copr-error-message").addClass("copr-hidden").text(""),n.click()):r.errors.forEach(function(r){var e=t.find('*[name="'.concat(r.field,'"]')).first();e.length>0&&e.addClass("copr-errored");var a=t.find(".copr-".concat(r.field,"-error")).first();a.length>0&&a.text(r.error).removeClass("copr-hidden")})}),!1}))})}]);