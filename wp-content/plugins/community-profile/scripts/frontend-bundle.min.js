!function(r){var t={};function a(e){if(t[e])return t[e].exports;var s=t[e]={i:e,l:!1,exports:{}};return r[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=r,a.c=t,a.d=function(r,t,e){a.o(r,t)||Object.defineProperty(r,t,{configurable:!1,enumerable:!0,get:e})},a.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return a.d(t,"a",t),t},a.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},a.p="/",a(a.s=12)}([,function(r,t){},function(r,t){},,,,,,,,,,function(r,t,a){a(13),a(2),a(1),a(14),r.exports=a(15)},function(r,t){},function(r,t){jQuery(function(r){r(".copr-js-hide").hide(),r(".copr-js-show").show(),r(".copr-answer-textarea").not(".copr-question-form").val(""),r(document).on("click",".copr-delete-answer",function(){var t=r(this).closest("form"),a=t.attr("data-really-message"),e="".concat(t.serialize(),"&is_ajax=true"),s="#copr-single-answer-"+t.find('input[name="answer_id"]').first().val();return confirm(a)&&r.post(t.attr("action"),e).done(function(t){t.success&&r(s).slideUp("slow")}).fail(function(){var a=r(s).find(".copr-form-error").first(),e=t.attr("data-error-message");a.html("<p>".concat(e,"</p>")).show()}),!1}),r(document).on("click",".copr-edit-link",function(){var t=r(this),a=t.closest(".copr-single-answer"),e=t.attr("data-showing-text"),s=t.attr("data-hiding-text");return a.hasClass("is-editing")?(a.find(".copr-answer-text").first().show(),a.find(".copr-edit-answer").first().hide(),a.removeClass("is-editing"),t.html('<span class="dashicons dashicons-edit"></span>'+s)):(a.find(".copr-answer-text").first().hide(),a.find(".copr-edit-answer").first().show(),a.addClass("is-editing"),t.html('<span class="dashicons dashicons-edit"></span> '+e)),!1}),r(document).on("submit","form.copr-edit-answer",function(){for(var t=r(this),a=t.find("input:submit").first(),e=t.closest(".copr-single-answer"),s="".concat(t.serialize(),"&is_ajax=true"),o=(t.find('input[name="answer"]').first(),t.serializeArray()),n="",i=0;i<o.length;i++)"answer"===o[i].name&&(n=o[i].value);return a.val(a.attr("data-saving")).prop("disabled","disabled").addClass("copr-disabled"),r.post(t.attr("action"),s).done(function(r){(a.val(a.attr("data-save")).prop("disabled","").removeClass("copr-disabled"),r.success)&&(e.find(".copr-answer-text").first().text(n),e.find(".copr-edit-link").first().click())}).fail(function(){a.val(a.attr("data-save")).prop("disabled","").removeClass("copr-disabled");var r=e.find(".copr-form-error").first(),s=t.attr("data-error-message");r.html("<p>".concat(s,"</p>")).show()}),!1});var t=r("#copr-section-filter select");r(".copr-section-wrapper").each(function(){var a=r(this).attr("data-title"),e=r(this).attr("data-tag");t.append('<option value="'+e+'">'+a+"</option>")}),t.on("change",function(){var t=r(this).val();"all"===t?r(".copr-section-wrapper").show():(r(".copr-section-wrapper").hide(),r("#section-"+t).show())}),r("form.copr-my-response").submit(function(){for(var t=r(this),a=(t.find('*[name="answer"]').first(),t.find(".copr-answer-error").first(),t.closest(".copr-my-response-wrapper")),e="".concat(t.serialize(),"&is_ajax=true"),s=t.find('input[type="submit"]').first(),o=t.serializeArray(),n="",i=0;i<o.length;i++)"group_id"===o[i].name&&(n=o[i].value);return s.val(s.attr("data-saving")).prop("disabled","disabled").addClass("copr-disabled"),r.post(t.attr("action"),e).done(function(e){if(e.success){var o="action=copr_get_template&group_id=".concat(n,"&answer_id=").concat(e.data.id,"&template_name=_single_answer");r.get(t.attr("action"),o).done(function(t){s.val(s.attr("data-save")).prop("disabled","").removeClass("copr-disabled"),a.slideUp("slow",function(){var e=r(t);e.find(".copr-js-hide").hide(),e.find(".copr-js-show").css("display","block"),e.find("a.copr-js-show").css("display","inline-block"),a.replaceWith(e)})}).fail(function(){s.val(s.attr("data-save")).prop("disabled","").removeClass("copr-disabled"),a.slideUp("slow")})}else e.errors.forEach(function(r){var a=t.find('*[name="'.concat(r.field,'"]')).first();a.length>0&&a.addClass("copr-errored");var e=t.find(".copr-".concat(r.field,"-error")).first();e.length>0&&e.text(r.error).removeClass("copr-hidden")}),s.val(s.attr("data-save")).prop("disabled","").removeClass("copr-disabled")}).fail(function(){s.val(s.attr("data-save")).prop("disabled","").removeClass("copr-disabled");var r=a.find(".copr-form-error").first(),e=t.attr("data-error-message");r.html("<p>".concat(e,"</p>")).show()}),!1})})},function(r,t){jQuery(function(r){function t(t,a,e){var s="".concat(t.serialize(),"&is_ajax=true"),o=t.closest(".copr-question-form").first().find(".copr-form-error").first();a.val(a.attr("data-saving")).prop("disabled","disabled").addClass("copr-disabled"),r.post(t.attr("action"),s).done(function(r){a.val(a.attr("data-save")).prop("disabled","").removeClass("copr-disabled"),r.success?(o.html("").hide(),e(r)):r.errors.forEach(function(r){var a=t.find('*[name="'.concat(r.field,'"]')).first();a.length>0&&a.addClass("copr-errored");var e=t.find(".copr-".concat(r.field,"-error")).first();e.length>0&&e.text(r.error).removeClass("copr-hidden")})}).fail(function(){a.val(a.attr("data-save")).prop("disabled","").removeClass("copr-disabled"),o.html("<p>".concat(t.attr("data-error-message"),"</p>")).show()})}r(".copr-questions-wrapper").length>0&&(r(".copr-questions-wrapper").each(function(){var t=r(this),a=t.children(),e=a.not(":first").not(".copr-hidden").attr("data-number"),s=a.length;t.attr("data-current",e).attr("data-total",s-1),a.eq(1).find(".copr-previous").first().addClass("copr-disabled"),a.last().find(".copr-next").first().addClass("copr-disabled")}),r(".copr-questions-wrapper .copr-next").on("click",function(){var t=r(this);if(t.hasClass("copr-disabled"))return!1;var a=t.closest(".copr-questions-wrapper"),e=parseInt(a.attr("data-current"),10),s=(parseInt(a.attr("data-total"),10),e+1);return a.find('div[data-number="'.concat(e,'"]')).fadeOut("slow",function(){a.find('div[data-number="'.concat(s,'"]')).fadeIn("slow"),a.attr("data-current",s)}),!1}),r(".copr-questions-wrapper .copr-previous").on("click",function(){var t=r(this);if(t.hasClass("copr-disabled"))return!1;var a=t.closest(".copr-questions-wrapper"),e=parseInt(a.attr("data-current"),10),s=(parseInt(a.attr("data-total"),10),e-1);return a.find('div[data-number="'.concat(e,'"]')).fadeOut("slow",function(){a.find('div[data-number="'.concat(s,'"]')).fadeIn("slow"),a.attr("data-current",s)}),!1}),r(".copr-question-field-wrapper form").submit(function(){var a=r(this),e=a.find('input[type="submit"]').first(),s=a.find(".copr-next").first();return t(a,e,function(){a.find("input, textarea").removeClass("copr-errored"),a.find(".copr-error-message").addClass("copr-hidden").text(""),s.click()}),!1}),r("form.copr-add-group-form").submit(function(){var a=r(this),e=a.find('input[type="submit"]').first();return success=function(t){r(".copr-group-selector-wrapper").slideUp("slow",function(){r(".copr-group-selector").append(r("<option/>").val(t.data.id).text(t.data.group_name)).val(t.data.id),r(".copr-questions-wrapper").slideDown("slow")})},t(a,e,success),!1}),r("select.copr-group-selector").on("change",function(){var t=parseInt(r(this).find(":selected").val(),10),a=r(this).closest("form.copr-select-group-form").first(),e=a.closest(".copr-question-form").first().find(".copr-form-error").first();if(-1===t)return e.html("<p>".concat(a.attr("data-required-message"),"</p>")).show(),!1;var s="".concat(a.serialize(),"&is_ajax=true");return r.post(a.attr("action"),s).done(function(s){if(s.success){e.html("").hide();var o=r(".copr-group-selector-wrapper");r('.copr-group-selector, input[name="group_id"]').val(t),o.is(":visible")&&o.slideUp("slow",function(){r(".copr-questions-wrapper").slideDown("slow")}),console.log("Load answers here")}else e.html("<p>".concat(a.attr("data-error-message"),"</p>")).show()}).fail(function(){e.html("<p>".concat(a.attr("data-error-message"),"</p>")).show()}),!1}))})}]);